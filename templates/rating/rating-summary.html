<div id="ratings-summary-container" class="flex flex-row justify-center w-full"
     hx-get="/rating/audiobook/{{audiobook_id}}/rating-summary" hx-target="#ratings-summary-container"
     hx-swap="outerHTML" hx-trigger="change">
    <div id="rating-summary" class="ml-3 w-2/3 flex flex-col rounded-xl bg-gray-700 p-4 mb-4 items-center">
        <h1 class="font-bold text-xl text-center mb-2">Overall Ratings</h1>
        <div class="mb-2 p-3 rounded-full bg-slate-500">
            <i class="fa-solid fa-star" style="color: #FFD43B;"></i>
            {{summary.overall_rating}} out of 5
        </div>

    <div class="text-slate-400 mb-2">{{summary.all_ratings_count}} user ratings</div>
        <div class="w-2/3">
            <div class="flex flex-col flex-col-reverse">
                {% for i in 0..6 %}
                {% let percentage = crate::templates::utilities::get_percentage_from_int(summary.star_count[i], summary.all_ratings_count)%}
                <div class="flex flex-row w-full items-center">
                    <p class="text-nowrap text-lg"> {{i}} stars</p>
                    <div class="ml-2 rounded-full bg-slate-400 w-full relative h-2">
                        <div class="absolute rounded-full h-full left-0" style="width: {{percentage}}%; background-color: #FFD43B;"></div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>